
###############################################################################
#   @author         :   Andrew Fields
#   @date           :   2025-11-28 17:15:39 Generated
#   @hostname       :   gpu1-75 Generated this file
#   @package        :   Auto Presence
#   @description    :   A Collection of Occupancy Sensors for Every Area
###############################################################################
#
# WARNING: This file is auto-generated by gen_presence_sensors.py
# Do not edit manually - changes will be overwritten!
# This file is created by running: 
#  $DIVTOOLS/scripts/hass/gen_presence_sensors.py
#  or
#  pvrun -v hass -p scripts/hass -s gen_presence_sensors.py
#  > See pvrun.sh for usage. pvrun is an alias.

template:
  - binary_sensor:
      - name: Living Room Occupied
        unique_id: living_room_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Living Room')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('living_room')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Living Room
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Living Room')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Living Room')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: living_room
          area_slug: living_room
      - name: Kitchen Occupied
        unique_id: kitchen_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Kitchen')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('kitchen')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Kitchen
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Kitchen')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Kitchen')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: kitchen
          area_slug: kitchen
      - name: Bonus Room Occupied
        unique_id: bonus_room_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Bonus Room')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('bonus_room')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Bonus Room
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Bonus Room')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Bonus Room')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: bonus_room
          area_slug: bonus_room
      - name: Dining Room Occupied
        unique_id: dining_room_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Dining Room')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('dining_room')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Dining Room
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Dining Room')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Dining Room')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: dining_room
          area_slug: dining_room
      - name: Office Occupied
        unique_id: office_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Office')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('office')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Office
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Office')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Office')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: office
          area_slug: office
      - name: Hobby Room Occupied
        unique_id: hobby_room_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Hobby Room')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('hobby_room')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Hobby Room
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Hobby Room')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Hobby Room')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: hobby_room
          area_slug: hobby_room
      - name: Shop Occupied
        unique_id: shop_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Shop')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('shop')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Shop
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Shop')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Shop')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: shop
          area_slug: shop
      - name: Playroom Occupied
        unique_id: playroom_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Playroom')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('playroom')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Playroom
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Playroom')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Playroom')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: playroom
          area_slug: playroom
      - name: Dungeon Occupied
        unique_id: dungeon_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Dungeon')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('dungeon')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Dungeon
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Dungeon')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Dungeon')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: dungeon
          area_slug: dungeon
      - name: Theater Occupied
        unique_id: theater_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Theater')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('theater')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Theater
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Theater')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Theater')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: theater
          area_slug: theater
      - name: Garage Occupied
        unique_id: garage_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Garage')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('garage')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Garage
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Garage')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Garage')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: garage
          area_slug: garage
      - name: Basement Living Room Occupied
        unique_id: basement_living_room_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Basement Living Room')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('basement_living_room')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Basement Living Room
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Basement Living Room')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Basement Living Room')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: basement_living_room
          area_slug: basement_living_room
      - name: Basement Occupied
        unique_id: basement_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Basement')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('basement')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Basement
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Basement')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Basement')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: basement
          area_slug: basement
      - name: Bedroom 2 Occupied
        unique_id: bedroom_2_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Bedroom 2')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('bedroom_2')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Bedroom 2
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Bedroom 2')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Bedroom 2')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: bedroom_2
          area_slug: bedroom_2
      - name: Girls Rooms Occupied
        unique_id: girls_rooms_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Girls Rooms')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('girls_rooms')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Girls Rooms
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Girls Rooms')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Girls Rooms')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: girls_rooms
          area_slug: girls_rooms
      - name: Kids Room Occupied
        unique_id: kids_room_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Kids Room')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('kids_room')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Kids Room
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Kids Room')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Kids Room')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: kids_room
          area_slug: kids_room
      - name: Master Bedroom Occupied
        unique_id: master_bedroom_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Master Bedroom')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('master_bedroom')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Master Bedroom
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Master Bedroom')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Master Bedroom')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: master_bedroom
          area_slug: master_bedroom
      - name: Master Bathroom Occupied
        unique_id: master_bathroom_occupied
        icon: >
          
          {%- if this.state == 'on' -%}
            {%- if this.attributes.people_count >= 2 -%}
          mdi:account-multiple-check
            {%- else -%}
          mdi:account-check
            {%- endif -%}
          {%- else -%}
          mdi:account-outline
          {%- endif -%}
          

        device_class: occupancy
        state: >
          {{ (expand('group.room_presence')
          | selectattr('state', 'eq', 'Master Bathroom')
          | list
          | count >= 1 )
          or
          (states.binary_sensor |
              selectattr('entity_id', 'in', area_entities('master_bathroom')) |
              rejectattr('attributes.device_class', 'undefined') |
              selectattr('attributes.device_class', 'search', '(occupancy|motion|door|running)') |
              selectattr('state', 'eq', 'on') |
              map(attribute='entity_id') |
              list | count > 0 )
          }}
        attributes:
          area_name: Master Bathroom
          people_count: >
            {{ expand('group.room_presence')
            | selectattr('state', 'eq', 'Master Bathroom')
            | list
            | count }}
          people: >
            {{ (expand('group.room_presence')
            | selectattr('state', 'eq', 'Master Bathroom')
            | map(attribute='entity_id')
            | map('replace', 'sensor.', '')
            | map('replace', '_room', '')
            | list
            | join(', ') )
            }}
          area_id: master_bathroom
          area_slug: master_bathroom
