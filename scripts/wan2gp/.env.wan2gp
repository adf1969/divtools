# Wan2GP Configuration
# Last Updated: 02/07/2026 11:30 AM CST
# Location: /opt/divtools/scripts/wan2gp/.env.wan2gp
# Documentation: https://github.com/deepbeepmeep/Wan2GP/blob/main/docs/CLI.md

# ============================================================================
# LORA VARIABLE STATUS SUMMARY
# ============================================================================
# ALL LoRA environment variables defined in this file ARE ACTIVELY USED by run_wan2gp.sh:
# - WAN2GP_LORAS_ROOT is PASSED as --loras for root auto-discovery
# - Every WAN2GP_LORA_DIR_* variable is INITIALIZED in the script
# - Every WAN2GP_LORA_DIR_* variable is PROCESSED via add_lora_arg() function
# - Every WAN2GP_LORA_DIR_* variable is PASSED to wgp.py as --lora-dir-* argument
# - Every WAN2GP_ADDITIONAL_LORA_DIR_* variable supplements the primary paths
#
# CRITICAL DISTINCTION:
# - --loras (WAN2GP_LORAS_ROOT) = Root directory for model auto-discovery
# - --lora-dir (WAN2GP_LORA_DIR) = Specific Wan t2v LoRA directory (Wan2.1/2.2)
# - These are DIFFERENT and serve DIFFERENT purposes
#
# DEPRECATED VARIABLES: None. There are no deprecated variables in this file.
# All documented variables are currently in use by the script and Wan2GP.

# ============================================================================
# Model and Loras Relocation
# ============================================================================
# Use wan2gp_util.sh -relocate-ckpts to relocate checkpoints folder
# Use wan2gp_util.sh -relocate-loras to relocate loras folder
# Both utilities will read these settings and perform the migration
WAN2GP_CKPTS_DEST=/opt/ai_models/sd_models/wan2gp/checkpoints
WAN2GP_LORAS_DEST=/opt/ai_models/sd_models/wan2gp/loras

# ============================================================================
# Network Settings
# ============================================================================
WAN2GP_SERVER_NAME=0.0.0.0      # 0.0.0.0 for LAN access, 127.0.0.1 for localhost only
WAN2GP_SERVER_PORT=7860

# ============================================================================
# LoRA Configuration - Model-Specific Directories
# ============================================================================
# IMPORTANT: --loras and --lora-dir are DIFFERENT CLI arguments:
#
#   --loras (WAN2GP_LORAS_ROOT)
#     = Root directory for AUTO-DISCOVERY of model-specific subdirectories
#     = Wan2GP will look for: wan/, wan_i2v/, wan_5b/, ltx2/, qwen/, z_image/, etc.
#     = Used for model-specific path discovery (NOT for Wan t2v LoRAs)
#
#   --lora-dir (WAN2GP_LORA_DIR)
#     = SPECIFIC directory for Wan t2v LoRAs (TEXT-TO-VIDEO)
#     = Covers Wan2.1 AND Wan2.2 t2v models
#     = SEPARATE from the root discovery directory
#
# You can set BOTH:
#   - WAN2GP_LORAS_ROOT for auto-discovery of other model family paths
#   - WAN2GP_LORA_DIR for explicit Wan t2v LoRA path (if different from root)
#
# Example:
#   WAN2GP_LORAS_ROOT=/data/loras  → will look for /data/loras/wan, /data/loras/qwen, etc.
#   WAN2GP_LORA_DIR=/nfs/wan_loras → explicit override JUST for Wan t2v LoRAs
#
# CLI mapping (from GitHub wan_handler.py):
#   WAN2GP_LORAS_ROOT        → --loras (root discovery)
#   WAN2GP_LORA_DIR          → --lora-dir (Wan t2v specific, includes Wan2.1/2.2)
#   WAN2GP_LORA_DIR_WAN_I2V  → --lora-dir-wan-i2v (Wan i2v alternate path)
#   WAN2GP_LORA_DIR_LTX2     → --lora-dir-ltx2 (LTX-2 specific)
#   etc. (one per model family)

# This is the BASED DIRECTOR for all Wan2GP Loras.
# I use this, because I CANNOT put this folder in the sub of ComfyUI
# Since the LoraManager will scan this folder and clutter it up with metadata.json files
WAN2GP_LORAS_BASE_DIR=/opt/nfs_test/nsfw/sd_models/loras-wan2gp

# Optional: Set a root loras directory (all model families will auto-discover model-specific subfolders there)
# Wan2GP will search for: wan/, wan_i2v/, wan_5B/, wan_1.3B/, ltx2/, ltxv/, qwen/, z_image/, etc.
# If not set, you MUST specify --lora-dir-* below for each model you want to use
WAN2GP_LORAS_ROOT=${WAN2GP_LORAS_BASE_DIR}/links

# Wan Model LoRAs (text-to-video) - Wan2.1 AND Wan2.2 t2v models
# Uses: --lora-dir (passed to wgp.py if WAN2GP_LORA_WAN_DEFAULT is set)
# This is SEPARATE from --loras. If set explicitly, this overrides any discovery path.
# This ENV var also applies to all other Wan* model variants unless overridden
WAN2GP_LORA_WAN_DEFAULT=${WAN2GP_LORAS_BASE_DIR}/links-wan2.2

# Wan 5B LoRAs (text-to-video variant)
# Uses: --lora-dir-wan-5b (passed to wgp.py if WAN2GP_LORA_DIR_WAN_5B is set)
#WAN2GP_LORA_DIR_WAN_5B=/opt/ai_models/sd_models/loras/wan_5b

# Wan 1.3B LoRAs (text-to-video variant)
# Uses: --lora-dir-wan-1-3b (passed to wgp.py if WAN2GP_LORA_DIR_WAN_1_3B is set)
#WAN2GP_LORA_DIR_WAN_1_3B=/opt/ai_models/sd_models/loras/wan_1.3b

# Wan Model LoRAs (image-to-video) - Two options to specify:
# Option 1: WAN2GP_LORA_DIR_I2V uses --lora-dir-i2v (standard name)
#WAN2GP_LORA_DIR_I2V=/opt/ai_models/sd_models/loras/wan_i2v
# 
# Option 2: WAN2GP_LORA_DIR_WAN_I2V uses --lora-dir-wan-i2v (alternate, Wan 2.1/2.2 specific LoRAs)
#WAN2GP_LORA_DIR_WAN_I2V=/opt/nfs_test/nsfw/sd_models/loras/links-wan2.2

# Hunyuan Model LoRAs (text-to-video)
# Uses: --lora-dir-hunyuan (passed to wgp.py if WAN2GP_LORA_DIR_HUNYUAN is set)
#WAN2GP_LORA_DIR_HUNYUAN=/opt/ai_models/sd_models/loras/hunyuan

# Hunyuan Model LoRAs (image-to-video)
# Uses: --lora-dir-hunyuan-i2v (passed to wgp.py if WAN2GP_LORA_DIR_HUNYUAN_I2V is set)
#WAN2GP_LORA_DIR_HUNYUAN_I2V=/opt/ai_models/sd_models/loras/hunyuan_i2v

# LTX Video LoRAs
# Uses: --lora-dir-ltxv (passed to wgp.py if WAN2GP_LORA_DIR_LTXV is set)
#WAN2GP_LORA_DIR_LTXV=/opt/ai_models/sd_models/loras/ltxv

# LTX-2 LoRAs
# Uses: --lora-dir-ltx2 (passed to wgp.py if WAN2GP_LORA_DIR_LTX2 is set)
WAN2GP_LORA_DIR_LTX2=${WAN2GP_LORAS_BASE_DIR}/links-ltx2

# Flux LoRAs (Flux 1.0)
# Uses: --lora-dir-flux (passed to wgp.py if WAN2GP_LORA_DIR_FLUX is set)
#WAN2GP_LORA_DIR_FLUX=/opt/ai_models/sd_models/loras/flux

# Flux2 LoRAs (Flux 2.0)
# Uses: --lora-dir-flux2 (passed to wgp.py if WAN2GP_LORA_DIR_FLUX2 is set)
#WAN2GP_LORA_DIR_FLUX2=/opt/ai_models/sd_models/loras/flux2

# Flux2 Klein 4B LoRAs
# Uses: --lora-dir-flux2-klein-4b (passed to wgp.py if WAN2GP_LORA_DIR_FLUX2_KLEIN_4B is set)
#WAN2GP_LORA_DIR_FLUX2_KLEIN_4B=/opt/ai_models/sd_models/loras/flux2_klein_4b

# Flux2 Klein 9B LoRAs
# Uses: --lora-dir-flux2-klein-9b (passed to wgp.py if WAN2GP_LORA_DIR_FLUX2_KLEIN_9B is set)
#WAN2GP_LORA_DIR_FLUX2_KLEIN_9B=/opt/ai_models/sd_models/loras/flux2_klein_9b

# Qwen LoRAs
# Uses: --lora-dir-qwen (passed to wgp.py if WAN2GP_LORA_DIR_QWEN is set)
WAN2GP_LORA_DIR_QWEN=${WAN2GP_LORAS_BASE_DIR}/links-qwen

# Z-Image LoRAs
# Uses: --lora-dir-z-image (passed to wgp.py if WAN2GP_LORA_DIR_Z_IMAGE is set)
WAN2GP_LORA_DIR_Z_IMAGE=${WAN2GP_LORAS_BASE_DIR}/links-zit

# TTS LoRAs/Presets
# Uses: --lora-dir-tts (passed to wgp.py if WAN2GP_LORA_DIR_TTS is set)
#WAN2GP_LORA_DIR_TTS=/opt/ai_models/sd_models/loras/tts

# ============================================================================
# Additional LoRA Search Directories (NFS/External)
# ============================================================================
# For each model type that has additional locations, create symlinked folders
# that point to all LoRAs for that type. Use colon-separated paths for multiple locations.
# The script will automatically expand subdirectories within each path.
# ALL of these are READ and PROCESSED if set. They are OPTIONAL and supplement
# the primary --lora-dir-* paths (if you want LoRAs in multiple locations).

# Additional Wan t2v LoRAs (supplements WAN2GP_LORA_DIR via add_lora_arg)
#WAN2GP_ADDITIONAL_LORA_DIR=/path/to/additional/wan_loras

# Additional Wan 5B LoRAs (supplements WAN2GP_LORA_DIR_WAN_5B)
#WAN2GP_ADDITIONAL_LORA_DIR_WAN_5B=/path/to/additional/wan_5b

# Additional Wan 1.3B LoRAs (supplements WAN2GP_LORA_DIR_WAN_1_3B)
#WAN2GP_ADDITIONAL_LORA_DIR_WAN_1_3B=/path/to/additional/wan_1.3b

# Additional Wan i2v LoRAs (supplements WAN2GP_LORA_DIR_I2V)
#WAN2GP_ADDITIONAL_LORA_DIR_I2V=/path/to/additional/wan_i2v

# Additional Wan i2v Alt LoRAs (supplements WAN2GP_LORA_DIR_WAN_I2V)
#WAN2GP_ADDITIONAL_LORA_DIR_WAN_I2V=/path/to/additional/wan_i2v_alt

# Additional Hunyuan t2v LoRAs (supplements WAN2GP_LORA_DIR_HUNYUAN)
#WAN2GP_ADDITIONAL_LORA_DIR_HUNYUAN=/path/to/additional/hunyuan

# Additional Hunyuan i2v LoRAs (supplements WAN2GP_LORA_DIR_HUNYUAN_I2V)
#WAN2GP_ADDITIONAL_LORA_DIR_HUNYUAN_I2V=/path/to/additional/hunyuan_i2v

# Additional LTX Video LoRAs (supplements WAN2GP_LORA_DIR_LTXV)
#WAN2GP_ADDITIONAL_LORA_DIR_LTXV=/path/to/additional/ltxv

# Additional LTX-2 LoRAs (supplements WAN2GP_LORA_DIR_LTX2)
#WAN2GP_ADDITIONAL_LORA_DIR_LTX2=/path/to/additional/ltx2

# Additional Flux LoRAs (supplements WAN2GP_LORA_DIR_FLUX)
#WAN2GP_ADDITIONAL_LORA_DIR_FLUX=/path/to/additional/flux

# Additional Flux2 LoRAs (supplements WAN2GP_LORA_DIR_FLUX2)
#WAN2GP_ADDITIONAL_LORA_DIR_FLUX2=/path/to/additional/flux2

# Additional Flux2 Klein 4B LoRAs (supplements WAN2GP_LORA_DIR_FLUX2_KLEIN_4B)
#WAN2GP_ADDITIONAL_LORA_DIR_FLUX2_KLEIN_4B=/path/to/additional/flux2_klein_4b

# Additional Flux2 Klein 9B LoRAs (supplements WAN2GP_LORA_DIR_FLUX2_KLEIN_9B)
#WAN2GP_ADDITIONAL_LORA_DIR_FLUX2_KLEIN_9B=/path/to/additional/flux2_klein_9b

# Additional Qwen LoRAs (supplements WAN2GP_LORA_DIR_QWEN)
#WAN2GP_ADDITIONAL_LORA_DIR_QWEN=/path/to/additional/qwen

# Additional Z-Image LoRAs (supplements WAN2GP_LORA_DIR_Z_IMAGE)
#WAN2GP_ADDITIONAL_LORA_DIR_Z_IMAGE=/path/to/additional/z_image

# Additional TTS LoRAs (supplements WAN2GP_LORA_DIR_TTS)
#WAN2GP_ADDITIONAL_LORA_DIR_TTS=/path/to/additional/tts

# ============================================================================
# LoRA Presets
# ============================================================================
# Load a specific preset on startup (.lset file)
# WAN2GP_LORA_PRESET=/path/to/preset.lset

# Validate LoRAs for compatibility (slower startup, but filters incompatible files)
# WAN2GP_CHECK_LORAS=1

# ============================================================================
# Performance and Model Options
# ============================================================================
# See CLI.md documentation for all performance options
# WAN2GP_PROFILE=4                    # Performance profile: 1-5 (default: 4)
# WAN2GP_ATTENTION=sdpa               # Attention mode: sdpa, flash, sage, sage2
# WAN2GP_FP16=1                       # Use fp16 instead of bf16
# WAN2GP_COMPILE=1                    # Enable PyTorch compilation (requires Triton)
# WAN2GP_TEACACHE=2.0                 # TeaCache multiplier: 0, 1.5, 1.75, 2.0, 2.25, 2.5
## WAN2GP_TEACACHE=2.0             # TeaCache multiplier: 0, 1.5, 1.75, 2.0, 2.25, 2.5
# NOTE: --teacache arg is currently commented out in wgp.py (lines 1874-1877)
# Uncomment in wgp.py when Wan2GP enables it, or use via UI instead

# ============================================================================
# Generation Defaults
# ============================================================================
# WAN2GP_SEED=-1                      # Default seed (-1 = random)
# WAN2GP_STEPS=0                      # Default denoising steps (0 = use model default)
# WAN2GP_FRAMES=0                     # Default number of frames (0 = use model default)

# ============================================================================
# Debug and Verbosity Options
# ============================================================================
# WAN2GP_VERBOSE enables verbose output from Wan2GP:
#   0 = Default/quiet (minimal logging)
#   1 = Verbose (standard information)
#   2 = Very verbose (detailed debugging information)
WAN2GP_VERBOSE=1

# WAN2GP_DEBUG_LEVEL enables additional startup logging in run_wan2gp.sh:
#   0 = Minimal logging (script errors only)
#   1 = Standard logging (INFO, ERROR, DEBUG)
#   2 = Enhanced logging (includes config dump)
#   3 = Maximum logging (full command details, environment vars)
WAN2GP_DEBUG_LEVEL=1

# ============================================================================
# Additional Arguments
# ============================================================================
# Add any other wgp.py arguments here (space-separated)
# WAN2GP_EXTRA_ARGS="--advanced --lock-config"
