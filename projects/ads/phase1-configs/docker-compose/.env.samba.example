# Samba Active Directory Environment Variables - EXAMPLE
# Deploy Location: /home/divix/divtools/docker/sites/$SITE_NAME/$HOSTNAME/samba/.env.samba.example
# Copy this to .env.samba and fill in actual values
# Last Updated: 12/5/2025 8:00:00 AM CST
#
# IMPORTANT: .env.samba contains passwords and should NOT be committed to git
# This example file can be committed for reference

# Site and Host Information
SITE_NAME=s01-7692nw
SITE_NUM=1
HOSTNAME=ads1-98

# Domain Configuration
# DOMAIN: The DNS domain name (lowercase)
ADS_DOMAIN=avctn.lan

# REALM: The Kerberos realm (uppercase, usually same as domain)
ADS_REALM=AVCTN.LAN

# WORKGROUP: The NetBIOS workgroup/domain name (uppercase, max 15 chars)
ADS_WORKGROUP=AVCTN

# Administrator Password
# Requirements:
# - Minimum 8 characters (12+ recommended)
# - Must contain uppercase, lowercase, numbers, and special characters
# - Change this default password immediately!
ADS_ADMIN_PASSWORD=CHANGE_ME_IMMEDIATELY!

# Network Configuration
# HOST_IP: Static IP address of this domain controller
ADS_HOST_IP=10.1.1.98

# DNS_FORWARDER: External DNS servers for internet name resolution
# Comma-separated list of IP addresses
ADS_DNS_FORWARDER=8.8.8.8,8.8.4.4

# Server Role
# Options:
#   dc     - Domain Controller (Active Directory)
#   member - Member Server (joined to existing domain)
ADS_SERVER_ROLE=dc

# Functional Level (optional)
# Higher levels provide more features but less compatibility with older clients
# Options: 2008_R2, 2012, 2012_R2, 2016
ADS_DOMAIN_LEVEL=2016
ADS_FOREST_LEVEL=2016

# DNS Backend
# Options:
#   SAMBA_INTERNAL - Samba's built-in DNS (recommended for most setups)
#   BIND9_DLZ      - Use BIND9 with DLZ backend (advanced, better performance)
#   NONE           - No DNS integration (not recommended for DC)
ADS_DNS_BACKEND=SAMBA_INTERNAL

# Logging
# Options: 0 (minimal) to 10 (verbose debug)
# 0 = Only critical errors
# 1 = Important messages (default, recommended for production)
# 2 = Warnings and notices
# 3 = Informational messages
# 5 = Debug authentication
# 10 = Full debug (very verbose, use only for troubleshooting)
ADS_LOG_LEVEL=1

# ========================================
# Advanced Options (for second DC or member servers)
# ========================================

# Join Existing Domain (uncomment for second DC or member server)
# Set to true if this DC should join an existing domain
# ADS_JOIN_EXISTING=false

# Primary DC (required if ADS_JOIN_EXISTING=true)
# FQDN of the primary domain controller to join
# ADS_PRIMARY_DC=ads1-98.avctn.lan

# ========================================
# Optional: Site Configuration (for multi-site deployments)
# ========================================

# AD Site Name (for multi-site replication)
# Default site is "Default-First-Site-Name"
# ADS_SITE_NAME=Site-01

# ========================================
# Optional: Performance Tuning
# ========================================

# Maximum number of open files (increase for large deployments)
# ADS_MAX_OPEN_FILES=16384

# LDAP page size (increase for better performance with large queries)
# ADS_LDAP_PAGE_SIZE=1000

# ========================================
# Optional: Security Settings
# ========================================

# Require SMB signing (options: auto, mandatory, disabled)
# ADS_SMB_SIGNING=auto

# Minimum SMB protocol version (options: SMB2, SMB2_10, SMB3, SMB3_00, SMB3_11)
# ADS_MIN_SMB_PROTOCOL=SMB2_10

# ========================================
# Optional: Backup Configuration
# ========================================

# Backup retention days
# ADS_BACKUP_RETENTION_DAYS=30

# Backup location (external to container)
# ADS_BACKUP_PATH=/backup/samba
