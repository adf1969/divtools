# dtpmenu - Documentation Map & Usage Guide

## üöÄ Start Here Based on Your Need

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         WHERE TO START?                                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                             ‚îÇ
‚îÇ  üìñ "Show me quick examples"                  ‚Üí QUICK-REFERENCE.md         ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îÇ  üîß "I'm writing a bash script"              ‚Üí BASH-INTEGRATION.md        ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îÇ  ‚ùì "Can I capture the user's choice?"       ‚Üí RETURN-VALUES.md           ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îÇ  ‚ö†Ô∏è "My dialog isn't centered!"              ‚Üí BASH-INTEGRATION.md        ‚îÇ
‚îÇ                                               (Debugging section)            ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îÇ  üìö "What's this project about?"             ‚Üí README.md or               ‚îÇ
‚îÇ                                               PROJECT-HISTORY.md            ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îÇ  üíª "I want to read the code"                ‚Üí dtpmenu.py                ‚îÇ
‚îÇ                                               (300+ line docstring)         ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îÇ  üó∫Ô∏è "Show me the complete map"               ‚Üí This file!                 ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## Complete Documentation Structure

```
/home/divix/divtools/projects/dtpmenu/
‚îÇ
‚îú‚îÄ üìÑ README.md ..................... PROJECT OVERVIEW & QUICK START
‚îÇ  ‚îú‚îÄ Why centering matters (‚ö†Ô∏è warning at top)
‚îÇ  ‚îú‚îÄ Quick start installation
‚îÇ  ‚îú‚îÄ Testing: bash projects/dtpmenu/demo_menu.sh
‚îÇ  ‚îî‚îÄ Full reference for all 4 functions with patterns
‚îÇ
‚îú‚îÄ üêç dtpmenu.py .................... MAIN APPLICATION (Python)
‚îÇ  ‚îî‚îÄ 300+ LINE DOCSTRING (read this!)
‚îÇ     ‚îú‚îÄ Critical integration warnings
‚îÇ     ‚îú‚îÄ Usage for each mode (menu, msgbox, yesno, inputbox)
‚îÇ     ‚îú‚îÄ All command-line flags
‚îÇ     ‚îú‚îÄ Environment setup
‚îÇ     ‚îî‚îÄ Real-world examples
‚îÇ
‚îú‚îÄ üî® scripts/util/dt_pmenu_lib.sh ... BASH WRAPPER LIBRARY
‚îÇ  ‚îî‚îÄ Wrapper functions with detailed comments:
‚îÇ     ‚îú‚îÄ pmenu_menu()
‚îÇ     ‚îú‚îÄ pmenu_msgbox()
‚îÇ     ‚îú‚îÄ pmenu_yesno()
‚îÇ     ‚îî‚îÄ pmenu_inputbox()
‚îÇ     ‚îî‚îÄ Each with PATTERN examples showing correct usage
‚îÇ
‚îú‚îÄ üìÅ docs/ ......................... DETAILED DOCUMENTATION
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ üî¥ BASH-INTEGRATION.md (START HERE FOR SCRIPTS!)
‚îÇ  ‚îÇ  ‚îÇ  200+ lines explaining:
‚îÇ  ‚îÇ  ‚îú‚îÄ TL;DR - Critical rules summary
‚îÇ  ‚îÇ  ‚îú‚îÄ Why command substitution breaks Textual (detailed)
‚îÇ  ‚îÇ  ‚îú‚îÄ Problem vs. solution code
‚îÇ  ‚îÇ  ‚îú‚îÄ 3 integration approach options
‚îÇ  ‚îÇ  ‚îú‚îÄ Working demo_menu.sh patterns
‚îÇ  ‚îÇ  ‚îú‚îÄ Debugging checklist
‚îÇ  ‚îÇ  ‚îî‚îÄ Terminal control best practices table
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ üü† RETURN-VALUES.md (How to capture results)
‚îÇ  ‚îÇ  ‚îÇ  Comprehensive guide:
‚îÇ  ‚îÇ  ‚îú‚îÄ Quick summary table (can capture what?)
‚îÇ  ‚îÇ  ‚îú‚îÄ Exit codes for all scenarios
‚îÇ  ‚îÇ  ‚îú‚îÄ Mode-specific return behavior
‚îÇ  ‚îÇ  ‚îú‚îÄ Chaining multiple dialogs
‚îÇ  ‚îÇ  ‚îú‚îÄ Real-world examples
‚îÇ  ‚îÇ  ‚îî‚îÄ Testing exit codes
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ üü° QUICK-REFERENCE.md (Copy-paste code)
‚îÇ  ‚îÇ  ‚îÇ  For busy developers:
‚îÇ  ‚îÇ  ‚îú‚îÄ Basic usage of all modes
‚îÇ  ‚îÇ  ‚îú‚îÄ Environment variables
‚îÇ  ‚îÇ  ‚îú‚îÄ What NOT to do
‚îÇ  ‚îÇ  ‚îú‚îÄ Quick debugging commands
‚îÇ  ‚îÇ  ‚îî‚îÄ Installation step
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ üü¢ SOLUTION-SUMMARY.md (Why centering was broken)
‚îÇ  ‚îÇ  ‚îÇ  For understanding the history:
‚îÇ  ‚îÇ  ‚îú‚îÄ Problem statement
‚îÇ  ‚îÇ  ‚îú‚îÄ Root cause analysis
‚îÇ  ‚îÇ  ‚îú‚îÄ Failed attempts (for learning)
‚îÇ  ‚îÇ  ‚îú‚îÄ The fix
‚îÇ  ‚îÇ  ‚îî‚îÄ Key learnings
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ üîµ PROJECT-HISTORY.md (Development timeline)
‚îÇ  ‚îÇ  ‚îÇ  Complete project journey:
‚îÇ  ‚îÇ  ‚îú‚îÄ Centering breakthrough (updated!)
‚îÇ  ‚îÇ  ‚îú‚îÄ Project initialization
‚îÇ  ‚îÇ  ‚îî‚îÄ Design decisions
‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ üìã DOCUMENTATION-INDEX.md (This complete overview)
‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ üìù PRD.md (Original product requirements)
‚îÇ
‚îú‚îÄ üìÇ demo_menu.sh .................. WORKING EXAMPLE
‚îÇ  ‚îÇ  Interactive demo showing:
‚îÇ  ‚îú‚îÄ Menu selection
‚îÇ  ‚îú‚îÄ Message boxes
‚îÇ  ‚îú‚îÄ Yes/No dialogs
‚îÇ  ‚îî‚îÄ Input boxes
‚îÇ  ‚îÇ  RUN: bash projects/dtpmenu/demo_menu.sh
‚îÇ
‚îú‚îÄ üìÇ test/ ......................... TEST SUITE
‚îÇ  ‚îî‚îÄ test_centering_menu.py (reference implementation)
‚îÇ
‚îî‚îÄ üìÇ install_dtpmenu_deps.sh ....... INSTALLATION SCRIPT
   ‚îÇ  RUN THIS FIRST:
   ‚îî‚îÄ bash projects/dtpmenu/install_dtpmenu_deps.sh
```

---

## Common Tasks & Where to Find Help

### "I want to add dtpmenu to my script"
1. **Read:** [BASH-INTEGRATION.md](docs/BASH-INTEGRATION.md) TL;DR section
2. **Copy:** Pattern from [QUICK-REFERENCE.md](docs/QUICK-REFERENCE.md)
3. **Reference:** Function comments in `scripts/util/dt_pmenu_lib.sh`

### "I want to check what the user selected"
1. **Read:** [RETURN-VALUES.md](docs/RETURN-VALUES.md) relevant section
2. **Copy:** Example pattern for your mode (menu, yesno, msgbox, inputbox)
3. **Key point:** You CAN check exit codes, but NOT capture selection during execution

### "My menu isn't centered!"
1. **Check:** Did you use `choice=$(pmenu_menu ...)`? That's the problem!
2. **Read:** [BASH-INTEGRATION.md](docs/BASH-INTEGRATION.md) "The Problem" section
3. **Fix:** Use direct execution without `$()` or `>`
4. **Verify:** Confirm PMENU_H_CENTER=1 and PMENU_V_CENTER=1 are set

### "I want a quick code example"
‚Üí [QUICK-REFERENCE.md](docs/QUICK-REFERENCE.md) - Everything copy-paste ready

### "I need to understand what's happening"
‚Üí [BASH-INTEGRATION.md](docs/BASH-INTEGRATION.md) - Deep dive into how Textual works

### "I want to know if this limitation is real"
‚Üí [SOLUTION-SUMMARY.md](docs/SOLUTION-SUMMARY.md) - How the problem was solved

### "I'm confused about exit codes"
‚Üí [RETURN-VALUES.md](docs/RETURN-VALUES.md) - Complete reference with examples

---

## The Most Important Rules

### Rule #1: NO Command Substitution During Execution
```bash
‚ùå WRONG - Breaks centering
choice=$(pmenu_menu "Title" "a" "Apple" "b" "Banana")

‚úÖ CORRECT - Direct execution
pmenu_menu "Title" "a" "Apple" "b" "Banana"
```

### Rule #2: NO Output Redirection During Execution
```bash
‚ùå WRONG - Breaks centering
pmenu_menu "Title" "a" "Apple" > /tmp/result.txt

‚úÖ CORRECT - Direct execution
pmenu_menu "Title" "a" "Apple"
```

### Rule #3: YES, You Can Check Exit Codes
```bash
pmenu_yesno "Confirm" "Delete?"
if [[ $? -eq 0 ]]; then
    echo "User said YES"
fi
```

### Rule #4: Set Environment Variables
```bash
export PMENU_H_CENTER=1    # Required for horizontal centering
export PMENU_V_CENTER=1    # Required for vertical centering
```

---

## Documentation by Audience

### For System Administrators
- **Quick Start:** [QUICK-REFERENCE.md](docs/QUICK-REFERENCE.md)
- **Troubleshooting:** [BASH-INTEGRATION.md](docs/BASH-INTEGRATION.md) - Debugging section
- **Real Examples:** [RETURN-VALUES.md](docs/RETURN-VALUES.md) - Real-world examples section

### For Bash Script Developers
- **Must Read:** [BASH-INTEGRATION.md](docs/BASH-INTEGRATION.md)
- **Copy Patterns:** [QUICK-REFERENCE.md](docs/QUICK-REFERENCE.md)
- **Return Values:** [RETURN-VALUES.md](docs/RETURN-VALUES.md)
- **Reference:** Comments in `scripts/util/dt_pmenu_lib.sh`

### For Python Developers
- **Full API:** dtpmenu.py docstring (300+ lines)
- **Architecture:** [PROJECT-HISTORY.md](docs/PROJECT-HISTORY.md)
- **Design Decisions:** [SOLUTION-SUMMARY.md](docs/SOLUTION-SUMMARY.md)

### For New Project Members
1. Read [README.md](README.md) - Project overview
2. Read [BASH-INTEGRATION.md](docs/BASH-INTEGRATION.md) - The "why"
3. Look at `demo_menu.sh` - Working code
4. Reference [QUICK-REFERENCE.md](docs/QUICK-REFERENCE.md) - Patterns

---

## How to Never Waste Hours Again

1. **Before writing code:** Check [QUICK-REFERENCE.md](docs/QUICK-REFERENCE.md) for your use case
2. **If something doesn't work:** Check [BASH-INTEGRATION.md](docs/BASH-INTEGRATION.md) debugging section
3. **If confused about results:** Check [RETURN-VALUES.md](docs/RETURN-VALUES.md)
4. **If you want deep understanding:** Read the docstring in dtpmenu.py

---

## Testing

Verify your installation and see dtpmenu in action:

```bash
# Quick test
cd /home/divix/divtools
bash projects/dtpmenu/demo_menu.sh

# In your own script
source "$DIVTOOLS/scripts/util/dt_pmenu_lib.sh"
export PMENU_H_CENTER=1 PMENU_V_CENTER=1
pmenu_yesno "Test" "Is this centered and colorful?"
```

---

## File Locations

| What | Path |
|------|------|
| Main app | `/home/divix/divtools/projects/dtpmenu/dtpmenu.py` |
| Bash wrapper | `/home/divix/divtools/scripts/util/dt_pmenu_lib.sh` |
| Documentation | `/home/divix/divtools/projects/dtpmenu/docs/` |
| Demo | `/home/divix/divtools/projects/dtpmenu/demo_menu.sh` |
| Setup | `/home/divix/divtools/projects/dtpmenu/install_dtpmenu_deps.sh` |

---

## Quick Links

üìñ **Documentation Index:** This file (you are here)

üî¥ **Integration Guide:** [BASH-INTEGRATION.md](docs/BASH-INTEGRATION.md)

üü† **Return Values:** [RETURN-VALUES.md](docs/RETURN-VALUES.md)

üü° **Quick Reference:** [QUICK-REFERENCE.md](docs/QUICK-REFERENCE.md)

üü¢ **Solution Summary:** [SOLUTION-SUMMARY.md](docs/SOLUTION-SUMMARY.md)

üîµ **Project History:** [PROJECT-HISTORY.md](docs/PROJECT-HISTORY.md)

üìÑ **README:** [README.md](README.md)

üêç **Source Code:** [dtpmenu.py](dtpmenu.py)

üî® **Wrapper:** [dt_pmenu_lib.sh](../../scripts/util/dt_pmenu_lib.sh)

---

**Last Updated:** 01/14/2026

**Status:** ‚úÖ Complete Documentation Package - Comprehensive, searchable, with multiple entry points
